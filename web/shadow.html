<!DOCTYPE html>
<html>
  <head>
    <title>Read.Garden Testing Viewer with Shadow DOM</title>
    <style>
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
        overflow: hidden;
      }
      iframe {
        border: none;
        height: 100%;
        width: 100%;
      }
    </style>
  </head>
  <body>
    <div id="host"></div>
    <read-garden-viewer></read-garden-viewer>
    <iframe
      srcdoc='<html>
  <head>
    <link rel="preload" as="script" href="/js/testing-shadow.js" />
    <link rel="preload" as="style" href="/css/shadow.css" />
    <link rel="stylesheet" type="text/css" href="/css/shadow.css" />
  </head>
  <body>
    <script src="/js/testing-shadow.js"></script>
  </body>
</html>'
    ></iframe>
  </body>
  <!-- <script type="text/javascript">
    // const host = document.querySelector('#host');
    // console.log({ host });
    // const shadow = host.attachShadow({ mode: 'open' });
    // window.shadow = shadow;
    // const link = document.createElement('link');
    // link.rel = 'stylesheet';
    // link.type = 'text/css';
    // link.href = '/css/read.garden-viewer.css';
    // shadow.appendChild(link);
    // const script = document.createElement('script');
    // script.src = '/js/testing-shadow.js';
    // shadow.appendChild(script);

    // const span = document.createElement('span');
    // span.textContent = 'Hello there';
    // shadow.appendChild(span);

    class ReadGardenViewer extends HTMLElement {
      constructor() {
        super();

        const link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = '/css/read.garden-viewer.css';
        this.appendChild(link);

        const script = document.createElement('script');
        script.src = '/js/testing-shadow.js';
        this.appendChild(script);

        // const span = document.createElement('span');
        // span.textContent = 'Hello there';
        // this.appendChild(span);
      }
    }

    customElements.define('read-garden-viewer', ReadGardenViewer);
  </script> -->
</html>

<html>
  <head></head>
  <body></body>
</html>
